<html><head><title>Game of Life</title><meta charset="UTF-8"></head><style>*{margin:0;border:0;overflow:hidden;}</style><body><canvas id="life" style="z-index:1;"></canvas><button style="z-index:2;position:absolute;top:0;left:0;color:white;background-color:red" id="b1" onclick="doRun();"><button style="z-index:2;position:absolute;top:0;left:90;color:black;background-color:white" id="cls" onclick="clear();">Run/stop</button><label for="cls" style="z-index:2;position:absolute;top:0;left:180;color:grey">Drag your mouse on the grid if you want to create a cell, select erase if you want to delete a cell. Press run/stop to start the simulation!</label><br><input type="radio" id="draw" name="in" checked="true" style="z-index:2;position:absolute;top:30;left:0"><label for="draw" style="z-index:2; position:absolute; top:30; left:30; color:grey">draw</label><br><input type="radio" id="erase" name="in" style="z-index:2;position:absolute;top:60;left:0"><label for="erase" style="z-index:2;position:absolute;top:60;left:30;color:grey">erase</label><script>var canvas=document.getElementById("life");canvas.width=window.innerWidth;canvas.height=window.innerHeight;var ctx=canvas.getContext("2d");var grid=[];var temp=[];var run=false;function doRun(){if(run){run=false;document.getElementById("b1").style.background="red"}else{run=true;document.getElementById("b1").style.background="green"}}ctx.fillStyle="black";ctx.lineWidth="0.1";ctx.strokeStyle="black";for(let y=0;y<23;y++){grid.push([]);for(let x=0;x<73;x++){grid[y].push(false);}}for(let y=0;y<23;y++){temp.push([]);for(let x=0;x<73;x++){temp[y].push(false);}}var countNeighbours;var frame;mouse={x:0,y:0,click:false};function clear(){for(lety=0;y<23;y++){for(let x=0;x<73;x++){grid[y][x]=false;}}}addEventListener("mousemove",event=>{mouse.x=event.clientX;mouse.y=event.clientY;});addEventListener("mousedown",event=>{mouse.click=true;});addEventListener("mouseup",event=>{mouse.click=false;});addEventListener("resize",event=>{canvas.width=window.innerWidth;canvas.height=innerHeight});function animate(st){requestAnimationFrame(animate);ctx.clearRect(0,0,canvas.width,canvas.height);for(let y=0;y<23;y++){for(let x=0;x<73;x++){ctx.beginPath();ctx.rect(x*canvas.width/73,y*canvas.height/23,canvas.width/73,canvas.height/23);ctx.stroke();}}for (let x=0;x<grid[0].length-1;x++){grid[0][x]=false;grid[grid.length-1][x]=false;}for(let y=0;y<grid.length-1;y++){grid[y][0]=false;grid[y][grid[0].length-1]=false;}if(!run){if(mouse.click){let y=Math.floor(23*mouse.y/canvas.height);let x=Math.floor(73*mouse.x/canvas.width);if(document.getElementById("draw").checked)grid[y][x]=true;else grid[y][x]=false;}for(let y=0;y<23;y++){for(let x=0;x<73;x++){temp[y][x]=grid[y][x]}}}if(run){for(let y=1;y<grid.length-1;y++){for(let x=1;x<grid[0].length-1;x++){countNeighbours=0;if(grid[y-1][x-1]==true)countNeighbours++;if(grid[y][x-1]==true)countNeighbours++;if(grid[y+1][x-1]==true)countNeighbours++;if(grid[y-1][x]==true)countNeighbours++;if(grid[y+1][x]==true)countNeighbours++;if(grid[y-1][x+1]==true)countNeighbours++;if(grid[y][x+1]==true)countNeighbours++;if(grid[y+1][x+1]==true)countNeighbours++;if(grid[y][x]==true&&countNeighbours<2)temp[y][x]=false;if((grid[y][x]==true)&&(countNeighbours==2||countNeighbours==3))temp[y][x]=true;if(grid[y][x]==true&&countNeighbours>3)temp[y][x]=false;if(grid[y][x]==false&&countNeighbours==3)temp[y][x]=true;}}}for(let y=0;y<23;y++){for(let x=0;x<73;x++){grid[y][x]=temp[y][x];}}for(let y=0;y<23;y++){for(let x=0;x<73;x++){if(grid[y][x]==true)ctx.fillRect(x*canvas.width/73,y*canvas.height/23,canvas.width/73,canvas.height/23);}}}animate();</script></body></html>
